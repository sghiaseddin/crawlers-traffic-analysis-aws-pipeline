# --------------- BASIC SETTINGS --------------------

time-format %T
date-format %Y-%m-%d
log-format %h %^[%d:%t %^] "%r" %s %b "%R" "%u" %^

# Your aggregated .log file already contains full raw log lines.
# The format does NOT include extra "| TLSv1.x | ..." pieces because
# your ETL script strips those for CSV only â€” BUT the raw .log keeps them.
# If needed later, you can adjust log-format accordingly.


# --------------- HTML REPORT SETTINGS --------------------

output-format HTML
html-report-title "Crawlers & LLM Bots Website Traffic Analysis"
html-prefs {"theme":"dark-gray"}

# Enable storage for HTML charts
enable-panel COOKIES
enable-panel HOSTS
enable-panel REFERRERS
enable-panel REQUESTS
enable-panel BROWSERS
enable-panel OS
enable-panel VISIT_TIMES


# --------------- GEOIP (OPTIONAL) --------------------
# If you want country-level traffic classification:
# Uncomment after installing geoip-database inside Dockerfile.
# geoip-database /usr/share/GeoIP/GeoLite2-City.mmdb


# --------------- MISC PERFORMANCE CONFIG --------------------

# Useful for large aggregated logs
keep-last 365
max-items 50000
no-progress
no-color

# Allow running without stdin
no-global-config